{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\HOLIDAYQR\\\\frontend\\\\src\\\\components\\\\ItineraryDetail.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport ReelUpload from \"./ReelUpload\"; // ✅ Import the upload form\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ItineraryDetail = () => {\n  _s();\n  const {\n    slug\n  } = useParams();\n  const [itinerary, setItinerary] = useState(null);\n  const [reels, setReels] = useState([]);\n  useEffect(() => {\n    axios.get(`http://127.0.0.1:8000/api/itineraries/${slug}/`).then(response => {\n      setItinerary(response.data);\n      fetchReels(response.data.id);\n    }).catch(error => console.error(\"Error fetching itinerary:\", error));\n  }, [slug]);\n  const fetchReels = itineraryId => {\n    axios.get(`http://127.0.0.1:8000/api/reels/?itinerary=${itineraryId}`).then(response => setReels(response.data)).catch(error => console.error(\"Error fetching reels:\", error));\n  };\n  if (!itinerary) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading itinerary details...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 26\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: \"20px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: itinerary.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Destination:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 10\n      }, this), \" \", itinerary.destination]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Duration:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 10\n      }, this), \" \", itinerary.duration_days, \" days\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Price:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 10\n      }, this), \" \\u20B9 \", itinerary.price]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: itinerary.description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), itinerary.qr_code && /*#__PURE__*/_jsxDEV(\"img\", {\n      src: `http://127.0.0.1:8000${itinerary.qr_code}`,\n      alt: \"QR Code\",\n      style: {\n        marginTop: \"10px\",\n        width: \"150px\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n      style: {\n        margin: \"30px 0\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Reels for this Itinerary\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ReelUpload, {\n      itineraryId: itinerary.id\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), \" \", reels.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No reels uploaded for this itinerary yet.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        gap: \"15px\"\n      },\n      children: reels.map(reel => /*#__PURE__*/_jsxDEV(\"video\", {\n        width: \"300\",\n        height: \"500\",\n        controls: true,\n        src: `http://127.0.0.1:8000${reel.video}`\n      }, reel.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n};\n_s(ItineraryDetail, \"fCK20WDS0simHt6mZtnfVAwjwBg=\", false, function () {\n  return [useParams];\n});\n_c = ItineraryDetail;\nexport default ItineraryDetail;\nvar _c;\n$RefreshReg$(_c, \"ItineraryDetail\");","map":{"version":3,"names":["React","useEffect","useState","useParams","axios","ReelUpload","jsxDEV","_jsxDEV","ItineraryDetail","_s","slug","itinerary","setItinerary","reels","setReels","get","then","response","data","fetchReels","id","catch","error","console","itineraryId","children","fileName","_jsxFileName","lineNumber","columnNumber","style","padding","title","destination","duration_days","price","description","qr_code","src","alt","marginTop","width","margin","length","display","flexWrap","gap","map","reel","height","controls","video","_c","$RefreshReg$"],"sources":["C:/Users/user/Desktop/HOLIDAYQR/frontend/src/components/ItineraryDetail.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport ReelUpload from \"./ReelUpload\"; // ✅ Import the upload form\r\n\r\nconst ItineraryDetail = () => {\r\n  const { slug } = useParams();\r\n  const [itinerary, setItinerary] = useState(null);\r\n  const [reels, setReels] = useState([]);\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(`http://127.0.0.1:8000/api/itineraries/${slug}/`)\r\n      .then((response) => {\r\n        setItinerary(response.data);\r\n        fetchReels(response.data.id);\r\n      })\r\n      .catch((error) => console.error(\"Error fetching itinerary:\", error));\r\n  }, [slug]);\r\n\r\n  const fetchReels = (itineraryId) => {\r\n    axios\r\n      .get(`http://127.0.0.1:8000/api/reels/?itinerary=${itineraryId}`)\r\n      .then((response) => setReels(response.data))\r\n      .catch((error) => console.error(\"Error fetching reels:\", error));\r\n  };\r\n\r\n  if (!itinerary) return <p>Loading itinerary details...</p>;\r\n\r\n  return (\r\n    <div style={{ padding: \"20px\" }}>\r\n      <h2>{itinerary.title}</h2>\r\n      <p><strong>Destination:</strong> {itinerary.destination}</p>\r\n      <p><strong>Duration:</strong> {itinerary.duration_days} days</p>\r\n      <p><strong>Price:</strong> ₹ {itinerary.price}</p>\r\n      <p>{itinerary.description}</p>\r\n\r\n      {itinerary.qr_code && (\r\n        <img\r\n          src={`http://127.0.0.1:8000${itinerary.qr_code}`}\r\n          alt=\"QR Code\"\r\n          style={{ marginTop: \"10px\", width: \"150px\" }}\r\n        />\r\n      )}\r\n\r\n      <hr style={{ margin: \"30px 0\" }} />\r\n      <h3>Reels for this Itinerary</h3>\r\n\r\n      <ReelUpload itineraryId={itinerary.id} /> {/* ✅ Upload form */}\r\n\r\n      {reels.length === 0 ? (\r\n        <p>No reels uploaded for this itinerary yet.</p>\r\n      ) : (\r\n        <div style={{ display: \"flex\", flexWrap: \"wrap\", gap: \"15px\" }}>\r\n          {reels.map((reel) => (\r\n            <video\r\n              key={reel.id}\r\n              width=\"300\"\r\n              height=\"500\"\r\n              controls\r\n              src={`http://127.0.0.1:8000${reel.video}`}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ItineraryDetail;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}